---
import Base from '../layouts/Base.astro'
import Home from '../layouts/Home.astro'

// Data Fetching API
import {translationEngine} from '../lib/translationEngine';

export async function getStaticPaths() {
  const posts = await Astro.glob('../../_data/content/pages/home.md')
  const postsData = await translationEngine({
    "posts": posts, 
    "structure": "single_file"
  });
  return postsData.map((post) => {
    return {
      params: {
        locale: post.locale,
      },
      props: {
        post
      }
    };
  });
}
const { post } = Astro.props;
---

<Base translationsURL={post.translations}>
  <Home post={post} />
</Base>