---
import Button from './Button.svelte'
---

<script>
  let netlifyForm = document.querySelector("#netlifyForm");
  netlifyForm.addEventListener('submit', e => {
    e.preventDefault();

    let formData = new FormData(netlifyForm);
    fetch(netlifyForm.getAttribute('action'), {
      method: 'POST',
      headers: {
        'Accept': 'application/x-www-form-urlencoded;charset=UTF-8',
        'Content-Type': 'application/x-www-form-urlencoded;charset=UTF-8'
      },
      body: new URLSearchParams(formData).toString()
    })
      .then(res => {
        if (res) {
          console.log('mensagem enviada')
        }
      });
  });
</script>

<form id="netlifyForm" class="w-full max-w-lg" method="POST" data-netlify="true">
  <div class="flex flex-wrap -mx-3 mb-6">
    <div class="w-full px-3 mb-6 md:mb-0">
      <label class="block uppercase tracking-wide text-gray-900 dark:text-white text-xs font-bold mb-2" for="grid-name">
        Name
      </label>
      <input
        class="appearance-none block w-full bg-white text-gray-900 border rounded py-3 px-4 leading-tight focus:outline-none focus:bg-white"
        id="grid-name" type="text" placeholder="">
      <!-- <p class="text-red-500 text-xs italic">Please fill out this field.</p> -->
    </div>
  </div>
  <div class="flex flex-wrap -mx-3 mb-6">
    <div class="w-full px-3 mb-6 md:mb-0">
      <label class="block uppercase tracking-wide text-gray-900 dark:text-white text-xs font-bold mb-2"
        for="grid-subject">
        Subject
      </label>
      <input
        class="appearance-none block w-full bg-white text-gray-700 border rounded py-3 px-4 leading-tight focus:outline-none focus:bg-white"
        id="grid-subject" type="text" placeholder="">
      <!-- <p class="text-red-500 text-xs italic">Please fill out this field.</p> -->
    </div>
  </div>
  <div class="flex flex-wrap -mx-3 mb-6">
    <div class="w-full px-3 mb-6 md:mb-0">
      <label class="block uppercase tracking-wide text-gray-900 dark:text-white text-xs font-bold mb-2"
        for="grid-email">
        E-mail
      </label>
      <input
        class="appearance-none block w-full bg-white text-gray-700 border rounded py-3 px-4 leading-tight focus:outline-none focus:bg-white"
        id="grid-email" type="text" placeholder="">
      <!-- <p class="text-red-500 text-xs italic">Please fill out this field.</p> -->
    </div>
  </div>
  <div class="flex flex-wrap -mx-3 mb-6">
    <div class="w-full px-3 mb-6 md:mb-0">
      <label class="block uppercase tracking-wide text-gray-900 dark:text-white text-xs font-bold mb-2"
        for="grid-email">
        Message
      </label>
      <textarea
        class="appearance-none block w-full bg-white text-gray-700 h-40 border rounded py-3 px-4 leading-tight focus:outline-none focus:bg-white"
        id="grid-email" type="text" placeholder=""></textarea>
      <!-- <p class="text-red-500 text-xs italic">Please fill out this field.</p> -->
    </div>
  </div>
  <Button type="submit" style="Primary" link="">Send</Button>
</form>